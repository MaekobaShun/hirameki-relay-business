<!-- 4805e4a0-0932-4968-948b-ed54a0470f98 1d828503-50f7-4670-ab41-5fe66b51cb06 -->
# 融合機能をモーダル方式に変更

## 概要

現在のページ遷移形式の融合機能を、イベント作成と同様のモーダル方式に変更します。アイデア選択画面に「融合する」ボタンを追加し、クリックするとモーダルが開き、その中でモード選択→ペルソナ選択→実行ができるようにします。

## 実装内容

### 1. `relay/templates/fusion.html`の修正

**変更内容**:

- 現在の3ステップ表示（`.fusion-step`）を削除
- アイデア選択画面のみを表示
- アイデア選択後に「融合する」ボタンを表示
- `<dialog>`タグでモーダルを追加
- モーダル内にモード選択とペルソナ選択のUIを配置
- JavaScriptでモーダルの開閉とステップ遷移を制御

**実装フロー**:

1. アイデア選択画面で2-3個のアイデアを選択
2. 「融合する」ボタンをクリック
3. モーダルが開く
4. モーダル内でモード選択→ペルソナ選択
5. 実行ボタンでフォーム送信
6. 結果ページにリダイレクト（既存の動作を維持）

### 2. `relay/static/fusion.css`の修正

**変更内容**:

- モーダルのスタイルを追加（`events.css`の`.modal-overlay`、`.modal-box`などを参考）
- ステップ表示用のCSSは削除または調整
- モーダル内のステップ遷移用のスタイルを追加

### 3. JavaScriptの修正

**変更内容**:

- モーダルの開閉処理を追加
- モーダル内でのステップ遷移処理を実装
- アイデア選択のバリデーションを維持
- フォーム送信処理を維持

## 実装ファイル

- `relay/templates/fusion.html` - モーダル方式に変更
- `relay/static/fusion.css` - モーダルスタイルを追加

### To-dos

- [ ] fusion.htmlを修正し、アイデア選択画面に「融合する」ボタンを追加し、モーダル内にモード選択とペルソナ選択のUIを配置
- [ ] fusion.cssにモーダルスタイルを追加（events.cssを参考）
- [ ] JavaScriptでモーダルの開閉とステップ遷移を制御する処理を実装