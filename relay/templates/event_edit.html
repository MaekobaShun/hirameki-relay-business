{% extends "base.html" %}

{% block title %}イベント編集 - {{ event.name }} - ひらめきリレー{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='event_detail.css') }}">
{% endblock %}

{% block content %}
<div class="event-edit-container">
    <a href="{{ url_for('event_detail', event_id=event.event_id) }}" class="back-link">← イベント詳細に戻る</a>
    
    <h1 style="text-align: center; margin-bottom: 2rem;">✏️ イベント編集</h1>

    <div class="event-section">
        <h2>イベント情報を編集</h2>
        <form method="POST" class="event-form">
            <div class="form-group">
                <label for="event_name">イベント名</label>
                <input type="text" id="event_name" name="name" required value="{{ event.name }}" placeholder="例：夏のアイデアコンテスト">
            </div>
            <div class="form-group">
                <label for="start_date">開始日時</label>
                <input type="datetime-local" id="start_date" name="start_date" required value="{{ event.start_date_str }}">
            </div>
            <div class="form-group">
                <label for="end_date">終了日時</label>
                <input type="datetime-local" id="end_date" name="end_date" required value="{{ event.end_date_str }}">
            </div>
            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="is_public" name="is_public" value="1" {% if event.is_public %}checked{% endif %}>
                    <span>イベントを公開する（一覧に表示）</span>
                </label>
                <small style="color: #666; margin-top: 0.25rem;">チェックしない場合、パスワードを知っている人のみ参加できます</small>
            </div>
            <div class="button-group">
                <button type="submit" class="btn btn-primary">更新する</button>
                <a href="{{ url_for('event_detail', event_id=event.event_id) }}" class="btn btn-secondary">キャンセル</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
